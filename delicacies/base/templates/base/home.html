{% extends 'main.html' %}
{% load static %}
{% block content %}

<!-- Hero Section -->
<div class="container-xxl py-5 bg-dark hero-header mb-5">
  <div class="container my-5 py-5">
    <div class="row align-items-center gx-xxl-8 gy-5 flex-column-reverse flex-lg-row">

      <!-- Text Section -->
      <div class="col-lg-6 text-lg-start px-4 px-lg-5 me-lg-4 text-left">
        <h1 class="display-4 text-white" data-aos="fade-right">
          Enjoy Using<br> MealMate
        </h1>
        <p class="text-white mb-4" data-aos="fade-left" data-aos-delay="200">
          Discover tasty, healthy meals tailored to your needs. Plan and prepare your favorite dishes easily.
        </p>

        <!-- CTA Buttons -->
        <div class="d-flex flex-wrap gap-3" data-aos="fade-up" data-aos-delay="400">
          <a href="{% url 'recipes' %}" class="btn btn-primary py-sm-3 px-sm-5">
            View Recipes
          </a>
          <a href="{% url 'nutrientscorner' %}" class="btn btn-outline-light py-sm-3 px-sm-5">
            Nutrients Corner
          </a>
        </div>

        <!-- Testimonial Link -->
        <div class="mt-4">
          <a href="{% url 'submit_testimonial' %}" class="text-warning text-decoration-none">
            ðŸ’¬ Share Your Testimonial â†’
          </a>
        </div>
      </div>

      <!-- Image Section -->
      <div class="col-lg-6 text-center px-4 px-lg-5 ms-lg-4" data-aos="zoom-in">
        <img class="img-fluid w-75 mt-3 mt-lg-0"
             src="{% static 'images/main.hero.png' %}"
             alt="MealMate hero banner">
      </div>
    </div>
  </div>
</div>

<!-- Features Section -->
<div class="row g-4 mb-5">
  {% for feature in features %}
    <div class="col-lg-3 col-sm-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1 }}00">
      <div class="bg-light rounded text-center p-4 h-100 nutrient-card-hover">
        <i class="fas {{ feature.icon }} fa-3x text-primary mb-3"></i>
        <h5 class="mb-2">{{ feature.title }}</h5>
        <p class="mb-0">{{ feature.desc }}</p>
      </div>
    </div>
  {% endfor %}
</div>

<!-- Statistics Section -->
<div class="row g-4">
  <div class="col-lg-3 col-sm-6 text-center" data-aos="fade-up" data-aos-delay="100">
    <div class="bg-light rounded p-4">
      <i class="fas fa-utensils fa-3x text-primary mb-3"></i>
      <h2 class="counter text-primary" data-target="{{ recipe_count }}">{{ recipe_count }}</h2>
      <p class="mb-0">Curated Recipes</p>
    </div>
  </div>
  <div class="col-lg-3 col-sm-6 text-center" data-aos="fade-up" data-aos-delay="200">
    <div class="bg-light rounded p-4">
      <i class="fas fa-heartbeat fa-3x text-primary mb-3"></i>
      <h2 class="counter text-primary" data-target="500">500</h2>
      <p class="mb-0">Healthy Plans</p>
    </div>
  </div>
  <div class="col-lg-3 col-sm-6 text-center" data-aos="fade-up" data-aos-delay="300">
    <div class="bg-light rounded p-4">
      <i class="fas fa-clock fa-3x text-primary mb-3"></i>
      <h2 class="counter text-primary" data-target="300">300</h2>
      <p class="mb-0">Hours Saved</p>
    </div>
  </div>
  <div class="col-lg-3 col-sm-6 text-center" data-aos="fade-up" data-aos-delay="400">
    <div class="bg-light rounded p-4">
      <i class="fas fa-users fa-3x text-primary mb-3"></i>
      <h2 class="counter text-primary" data-target="800">800</h2>
      <p class="mb-0">Happy Users</p>
    </div>
  </div>
</div>

<!-- Testimonials Section -->
<div class="container-xxl py-5">
  <div class="container">
    <h2 class="text-center mb-5 text-warning" data-aos="fade-up">What People Say</h2>

    <div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">

        {% for testimonial in testimonials %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <div class="glass-card text-center p-5 mx-auto" style="max-width: 800px;">
              <p class="fs-5 fst-italic">"{{ testimonial.content }}"</p>
              <h5 class="mt-3 mb-0 text-warning">â€” {{ testimonial.name }}{% if testimonial.location %}, {{ testimonial.location }}{% endif %}</h5>
            </div>
          </div>
        {% empty %}
          <div class="carousel-item active">
            <div class="glass-card text-center p-5 mx-auto" style="max-width: 800px;">
              <p class="fs-5 fst-italic">"No testimonials yet. Be the first to share your story!"</p>
              <h5 class="mt-3 mb-0 text-warning">â€” MealMate</h5>
            </div>
          </div>
        {% endfor %}

      </div>

      <!-- Controls -->
      <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon bg-dark rounded-circle" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>

      <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon bg-dark rounded-circle" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</div>

{% endblock %}
